(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3680],{8626:function(e,t,n){Promise.resolve().then(n.bind(n,8589))},9376:function(e,t,n){"use strict";var r=n(5475);n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})},8589:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(7437),u=n(4864),s=n(8676),a=n(9376),o=n(2265),i=n(4449);function l(e){let{student:t,teacher:n}=e,{isLogged:l,role:c,loading:d,userId:f}=(0,u.V)(),[h,m]=(0,o.useState)(null),[p,g]=(0,o.useState)(null),[x,b]=(0,o.useState)(!0),v=(0,a.useRouter)(),y=(0,a.usePathname)().split("/")[2];(0,o.useEffect)(()=>{(async()=>{if(f&&y)try{if(b(!0),"student"===c){let e=await fetch("/api/Enrollments/getEnroll?student_id=".concat(f)),t=((await e.json()).getEnroll||[]).some(e=>e.course_id===parseInt(y));m(t)}if("teacher"===c){let e=await fetch("/api/Course/getTutorCourses?tutorId=".concat(f)),t=(await e.json()).some(e=>e.course_id===parseInt(y));g(t)}}catch(e){console.error("Error fetching data:",e),m(!1),g(!1)}finally{b(!1)}})()},[f,y,c]);let w=()=>(0,r.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 text-gray-700",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-red-500",children:"Access Denied"}),(0,r.jsx)("p",{className:"mt-4 text-lg",children:"You do not have permission to access this page."}),(0,r.jsx)("div",{className:"mt-6 flex space-x-4",children:(0,r.jsx)(i.z,{onClick:()=>v.back(),className:"px-4 py-2 text-sm w-full font-semibold text-white bg-primary rounded-lg hover:bg-primary-light",children:"Go Back"})})]})});return d||x?(0,r.jsx)(s.default,{}):l?"teacher"===c?p?n:w():"student"===c?h?t:w():null:(v.push("/signin"),null)}},8676:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(7437),u=n(208);function s(){return(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,r.jsx)(u.nI,{src:"https://lottie.host/2dfe3f56-1676-472e-b1b8-bfa43b7faba8/ONbpoVclRb.lottie",loop:!0,autoplay:!0,style:{width:"150px",height:"150px"}})})}},4449:function(e,t,n){"use strict";n.d(t,{d:function(){return i},z:function(){return l}});var r=n(7437),u=n(2265),s=n(7053),a=n(535),o=n(6474);let i=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-white shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=u.forwardRef((e,t)=>{let{className:n,variant:u,size:a,asChild:l=!1,...c}=e,d=l?s.g7:"button";return(0,r.jsx)(d,{className:(0,o.cn)(i({variant:u,size:a,className:n})),ref:t,...c})});l.displayName="Button"},7645:function(e,t,n){"use strict";n.d(t,{hJ:function(){return r.hJ},ET:function(){return u.ET},I8:function(){return a},DI:function(){return u.hJ},Xb:function(){return r.Xb},db:function(){return o},Aj:function(){return r.Aj},cf:function(){return u.cf},Xo:function(){return u.Xo},IO:function(){return u.IO},LS:function(){return r.LS},e5:function(){return r.e5},rh:function(){return r.rh},w7:function(){return r.w7}});var r=n(4752),u=n(5978);let s=(0,n(738).ZF)({apiKey:"AIzaSyDrzFNmxdmIfVN2bqi9mp2g6vaz71AfEFE",authDomain:"axial-radius-436608-q6.firebaseapp.com",databaseURL:"https://axial-radius-436608-q6-default-rtdb.firebaseio.com",projectId:"axial-radius-436608-q6",storageBucket:"axial-radius-436608-q6.appspot.com",messagingSenderId:"128899871237",appId:"1:128899871237:web:30ded11d2a1dd26627226c",measurementId:"G-8W9YR4NBKP"}),a=(0,r.v0)(s),o=(0,u.ad)(s)},6474:function(e,t,n){"use strict";n.d(t,{cn:function(){return s}});var r=n(1994),u=n(3335);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,u.m6)((0,r.W)(t))}},4864:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var r=n(7437),u=n(2265),s=n(7645);let a=(0,u.createContext)({userName:null,isLogged:!1,loading:!0,role:null,userId:null,email:null,accessToken:null,address:null}),o=()=>(0,u.useContext)(a);t.default=e=>{let{children:t}=e,[n,o]=(0,u.useState)(null),[i,l]=(0,u.useState)(null),[c,d]=(0,u.useState)(null),[f,h]=(0,u.useState)(!1),[m,p]=(0,u.useState)(!0),[g,x]=(0,u.useState)(null),[b,v]=(0,u.useState)(null),[y,w]=(0,u.useState)(null),j=async e=>{try{let t=await fetch("/api/getUser?userEmail=".concat(e),{method:"GET"});if(t.ok){let e=await t.json();v(e.id),x(e.role),d(e.email),o(e.name),l(e.address)}else console.error("Error fetching role:",t.statusText)}catch(e){console.error("Error in getUser:",e.message)}},E=async()=>{try{await (0,s.w7)(s.I8),h(!1),o(null),d(null),x(null),v(null),l(null),console.log("User logged out")}catch(e){console.error("Error logging out:",e)}};return(0,u.useEffect)(()=>{let e=(0,s.Aj)(s.I8,e=>{e?(w(e.getIdToken()),h(!0),j(e.email)):h(!1),p(!1)});return()=>e()},[]),(0,r.jsx)(a.Provider,{value:{userName:n,email:c,isLogged:f,address:i,loading:m,role:g,logout:E,userId:b,accessToken:y},children:t})}},8575:function(e,t,n){"use strict";n.d(t,{F:function(){return u},e:function(){return s}});var r=n(2265);function u(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}function s(...e){return r.useCallback(u(...e),e)}},7053:function(e,t,n){"use strict";n.d(t,{A4:function(){return i},g7:function(){return a}});var r=n(2265),u=n(8575),s=n(7437),a=r.forwardRef((e,t)=>{let{children:n,...u}=e,a=r.Children.toArray(n),i=a.find(l);if(i){let e=i.props.children,n=a.map(t=>t!==i?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,s.jsx)(o,{...u,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null})}return(0,s.jsx)(o,{...u,ref:t,children:n})});a.displayName="Slot";var o=r.forwardRef((e,t)=>{let{children:n,...s}=e;if(r.isValidElement(n)){let e,a;let o=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.props.ref:n.props.ref||n.ref;return r.cloneElement(n,{...function(e,t){let n={...t};for(let r in t){let u=e[r],s=t[r];/^on[A-Z]/.test(r)?u&&s?n[r]=(...e)=>{s(...e),u(...e)}:u&&(n[r]=u):"style"===r?n[r]={...u,...s}:"className"===r&&(n[r]=[u,s].filter(Boolean).join(" "))}return{...e,...n}}(s,n.props),ref:t?(0,u.F)(t,o):o})}return r.Children.count(n)>1?r.Children.only(null):null});o.displayName="SlotClone";var i=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});function l(e){return r.isValidElement(e)&&e.type===i}}},function(e){e.O(0,[4358,4533,2486,5434,9851,2971,2117,1744],function(){return e(e.s=8626)}),_N_E=e.O()}]);