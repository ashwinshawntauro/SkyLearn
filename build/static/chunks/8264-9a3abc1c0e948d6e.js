"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8264],{8264:function(e,t,r){r.d(t,{Z:function(){return g}});var a=r(7437),s=r(2265),n=r(322),o=r(4930),i=r(4864),l=r(4449),d=r(9376),c=r(85),u=r(6474),f=r(653);let m=c.fC,h=c.xz;c.ZA,c.Uv,c.Tr,c.Ee,s.forwardRef((e,t)=>{let{className:r,inset:s,children:n,...o}=e;return(0,a.jsxs)(c.fF,{ref:t,className:(0,u.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",r),...o,children:[n,(0,a.jsx)(f.XCv,{className:"ml-auto"})]})}).displayName=c.fF.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(c.tu,{ref:t,className:(0,u.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...s})}).displayName=c.tu.displayName;let p=s.forwardRef((e,t)=>{let{className:r,sideOffset:s=4,...n}=e;return(0,a.jsx)(c.Uv,{children:(0,a.jsx)(c.VY,{ref:t,sideOffset:s,className:(0,u.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...n})})});p.displayName=c.VY.displayName;let x=s.forwardRef((e,t)=>{let{className:r,inset:s,...n}=e;return(0,a.jsx)(c.ck,{ref:t,className:(0,u.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",s&&"pl-8",r),...n})});x.displayName=c.ck.displayName,s.forwardRef((e,t)=>{let{className:r,children:s,checked:n,...o}=e;return(0,a.jsxs)(c.oC,{ref:t,className:(0,u.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:n,...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(c.wU,{children:(0,a.jsx)(f.nQG,{className:"h-4 w-4"})})}),s]})}).displayName=c.oC.displayName,s.forwardRef((e,t)=>{let{className:r,children:s,...n}=e;return(0,a.jsxs)(c.Rk,{ref:t,className:(0,u.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(c.wU,{children:(0,a.jsx)(f.jXb,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=c.Rk.displayName,s.forwardRef((e,t)=>{let{className:r,inset:s,...n}=e;return(0,a.jsx)(c.__,{ref:t,className:(0,u.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",r),...n})}).displayName=c.__.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(c.Z0,{ref:t,className:(0,u.cn)("-mx-1 my-1 h-px bg-muted",r),...s})}).displayName=c.Z0.displayName;var g=function(){let{userName:e,isLogged:t,logout:r}=(0,i.V)(),c=(0,d.useRouter)(),[u,f]=(0,s.useState)(""),[g,w]=(0,s.useState)([]),[v,b]=(0,s.useState)(!1),j=async e=>{b(!0);try{let t=await fetch("/api/getSearchResults?search=".concat(e));if(t.ok){let e=await t.json();w(e),b(!1)}else w([])}catch(e){console.error("Error fetching search results:",e),w([])}},y=e=>{c.push("/courses/".concat(e))};return(0,a.jsx)("div",{children:(0,a.jsxs)("header",{className:"flex w-full items-center justify-between p-2 bg-zinc-100 max-h-[50px]",children:[(0,a.jsxs)(l.z,{className:"text-black bg-white hover:text-white group",onClick:e=>c.replace("/"),children:[(0,a.jsx)("svg",{className:"w-6 h-6 text-gray-800 group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M11.293 3.293a1 1 0 0 1 1.414 0l6 6 2 2a1 1 0 0 1-1.414 1.414L19 12.414V19a2 2 0 0 1-2 2h-3a1 1 0 0 1-1-1v-3h-2v3a1 1 0 0 1-1 1H7a2 2 0 0 1-2-2v-6.586l-.293.293a1 1 0 0 1-1.414-1.414l2-2 6-6Z",clipRule:"evenodd"})}),"Home"]}),(0,a.jsxs)("div",{className:"relative w-full mx-2",children:[(0,a.jsx)(n.I,{type:"text",placeholder:"Search Courses",value:u,onChange:e=>{let t=e.target.value;f(t),t.trim().length>0?j(t):w([])},className:"p-2 border rounded-md w-full bg-white shadow"}),u&&(0,a.jsx)("div",{className:"absolute bg-white border rounded-md shadow-lg w-full z-10 mt-2",children:v?(0,a.jsx)("p",{className:"p-2 text-gray-500",children:"Loading..."}):g.length>0?g.map(e=>(0,a.jsxs)("div",{className:"p-2 hover:bg-gray-100 cursor-pointer",onClick:()=>y(e.course_id),children:[(0,a.jsx)("p",{className:"font-semibold",children:e.course_name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.course_description})]},e.course_id)):(0,a.jsx)("p",{className:"p-2 text-gray-500",children:"No results found"})})]}),t&&(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("span",{className:"inline-flex font-semibold text-sm items-center bg-white text-black p-1.5 px-2 rounded-lg shadow border border-gray-100 whitespace-nowrap",children:"Points: 0"}),(0,a.jsxs)(m,{children:[(0,a.jsx)(h,{className:"flex items-center",children:(0,a.jsxs)(o.qE,{className:"w-8 h-8 cursor-pointer",children:[e&&(0,a.jsx)(o.F$,{className:"rounded-full",src:"https://ui-avatars.com/api/?name=".concat(e,"&background=1e90ff&color=FFFFFF")}),(0,a.jsx)(o.Q5,{className:"bg-gray-200 text-gray-600 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18Zm0 0a8.949 8.949 0 0 0 4.951-1.488A3.987 3.987 0 0 0 13 16h-2a3.987 3.987 0 0 0-3.951 3.512A8.948 8.948 0 0 0 12 21Zm3-11a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})})})]})}),(0,a.jsxs)(p,{children:[(0,a.jsxs)(x,{onClick:e=>c.replace("/profile"),children:[(0,a.jsx)("svg",{className:"w-12 h-12 text-white fill-blue-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18Zm0 0a8.949 8.949 0 0 0 4.951-1.488A3.987 3.987 0 0 0 13 16h-2a3.987 3.987 0 0 0-3.951 3.512A8.948 8.948 0 0 0 12 21Zm3-11a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),"Profile"]}),(0,a.jsxs)(x,{onClick:e=>c.replace("/mycourses"),children:[(0,a.jsx)("svg",{className:"w-12 h-12 text-white fill-blue-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 9h3m-3 3h3m-3 3h3m-6 1c-.306-.613-.933-1-1.618-1H7.618c-.685 0-1.312.387-1.618 1M4 5h16a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Zm7 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"})}),"My Courses"]}),(0,a.jsxs)(x,{onClick:r,children:[(0,a.jsx)("svg",{className:"w-6 h-6 text-blue-500 fill-blue-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 12H8m12 0-4 4m4-4-4-4M9 4H7a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h2"})}),"Logout"]})]})]})]})]})})}},4449:function(e,t,r){r.d(t,{d:function(){return l},z:function(){return d}});var a=r(7437),s=r(2265),n=r(7053),o=r(535),i=r(6474);let l=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-white shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:o,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(l({variant:s,size:o,className:r})),ref:t,...c})});d.displayName="Button"},322:function(e,t,r){r.d(t,{I:function(){return o}});var a=r(7437),s=r(2265),n=r(6474);let o=s.forwardRef((e,t)=>{let{className:r,type:s,...o}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...o})});o.displayName="Input"},7645:function(e,t,r){r.d(t,{hJ:function(){return a.hJ},ET:function(){return s.ET},I8:function(){return o},DI:function(){return s.hJ},Xb:function(){return a.Xb},db:function(){return i},Aj:function(){return a.Aj},cf:function(){return s.cf},Xo:function(){return s.Xo},IO:function(){return s.IO},LS:function(){return a.LS},e5:function(){return a.e5},rh:function(){return a.rh},w7:function(){return a.w7}});var a=r(4752),s=r(5978);let n=(0,r(738).ZF)({apiKey:"AIzaSyDrzFNmxdmIfVN2bqi9mp2g6vaz71AfEFE",authDomain:"axial-radius-436608-q6.firebaseapp.com",databaseURL:"https://axial-radius-436608-q6-default-rtdb.firebaseio.com",projectId:"axial-radius-436608-q6",storageBucket:"axial-radius-436608-q6.appspot.com",messagingSenderId:"128899871237",appId:"1:128899871237:web:30ded11d2a1dd26627226c",measurementId:"G-8W9YR4NBKP"}),o=(0,a.v0)(n),i=(0,s.ad)(n)},6474:function(e,t,r){r.d(t,{cn:function(){return n}});var a=r(1994),s=r(3335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}},4864:function(e,t,r){r.d(t,{V:function(){return i}});var a=r(7437),s=r(2265),n=r(7645);let o=(0,s.createContext)({userName:null,isLogged:!1,loading:!0,role:null,userId:null,email:null,accessToken:null,address:null}),i=()=>(0,s.useContext)(o);t.default=e=>{let{children:t}=e,[r,i]=(0,s.useState)(null),[l,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(null),[f,m]=(0,s.useState)(!1),[h,p]=(0,s.useState)(!0),[x,g]=(0,s.useState)(null),[w,v]=(0,s.useState)(null),[b,j]=(0,s.useState)(null),y=async e=>{try{let t=await fetch("/api/getUser?userEmail=".concat(e),{method:"GET"});if(t.ok){let e=await t.json();v(e.id),g(e.role),u(e.email),i(e.name),d(e.address)}else console.error("Error fetching role:",t.statusText)}catch(e){console.error("Error in getUser:",e.message)}},N=async()=>{try{await (0,n.w7)(n.I8),m(!1),i(null),u(null),g(null),v(null),d(null),console.log("User logged out")}catch(e){console.error("Error logging out:",e)}};return(0,s.useEffect)(()=>{let e=(0,n.Aj)(n.I8,e=>{e?(j(e.getIdToken()),m(!0),y(e.email)):m(!1),p(!1)});return()=>e()},[]),(0,a.jsx)(o.Provider,{value:{userName:r,email:c,isLogged:f,address:l,loading:h,role:x,logout:N,userId:w,accessToken:b},children:t})}}}]);