"use strict";(()=>{var e={};e.id=4089,e.ids=[4089],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},77597:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>g,patchFetch:()=>x,requestAsyncStorage:()=>m,routeModule:()=>l,serverHooks:()=>v,staticGenerationAsyncStorage:()=>c});var r={};s.r(r),s.d(r,{GET:()=>p});var a=s(73278),i=s(45002),n=s(54877),o=s(53524),u=s(71309);let d=new o.PrismaClient;async function p(e){try{let{searchParams:t}=new URL(e.url),s=t.get("userId"),r=t.get("livestreamId");if(!s||!r)return u.NextResponse.json({error:"Missing userId or livestreamId parameter"},{status:400});let a=parseInt(s,10),i=parseInt(r,10);if(isNaN(a)||isNaN(i))return u.NextResponse.json({error:"Invalid userId or livestreamId parameter"},{status:400});let n=await d.sTUDENTCLASSES.findFirst({where:{student_id:a,livestreaming_id:i},select:{course_id:!0,status:!0,livestreaming_id:!0}});if(!n)return u.NextResponse.json({status:"Missed",message:"You have missed this class."});let o={courseId:n.course_id,livestreamId:n.livestreaming_id,status:n.status};return u.NextResponse.json(o)}catch(e){return console.error("Error fetching student class:",e),u.NextResponse.json({error:"Internal Server Error"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/Livestreams/getStudentClass/route",pathname:"/api/Livestreams/getStudentClass",filename:"route",bundlePath:"app/api/Livestreams/getStudentClass/route"},resolvedPagePath:"D:\\skylearn\\src\\app\\api\\Livestreams\\getStudentClass\\route.js",nextConfigOutput:"",userland:r}),{requestAsyncStorage:m,staticGenerationAsyncStorage:c,serverHooks:v}=l,g="/api/Livestreams/getStudentClass/route";function x(){return(0,n.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:c})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[9379,4833],()=>s(77597));module.exports=r})();